{"remainingRequest":"C:\\Users\\andre\\Documents\\GitHub\\Spotify-Features\\spotify-features-website\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\andre\\Documents\\GitHub\\Spotify-Features\\spotify-features-website\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\andre\\Documents\\GitHub\\Spotify-Features\\spotify-features-website\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\andre\\Documents\\GitHub\\Spotify-Features\\spotify-features-website\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\andre\\Documents\\GitHub\\Spotify-Features\\spotify-features-website\\src\\views\\SongAnalysis.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\andre\\Documents\\GitHub\\Spotify-Features\\spotify-features-website\\src\\views\\SongAnalysis.vue","mtime":1571875851239},{"path":"C:\\Users\\andre\\Documents\\GitHub\\Spotify-Features\\spotify-features-website\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\andre\\Documents\\GitHub\\Spotify-Features\\spotify-features-website\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\andre\\Documents\\GitHub\\Spotify-Features\\spotify-features-website\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\andre\\Documents\\GitHub\\Spotify-Features\\spotify-features-website\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\andre\\Documents\\GitHub\\Spotify-Features\\spotify-features-website\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\andre\\\\Documents\\\\GitHub\\\\Spotify-Features\\\\spotify-features-website\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n// @ is an alias to /src\nimport NavBar from '@/components/NavBar.vue';\nimport SearchBar from '@/components/SearchBar.vue';\nimport TrackAnalysis from '@/components/TrackAnalysis.vue';\nimport AppTitle from '@/components/AppTitle.vue';\nexport default {\n  name: 'songanalysis',\n  components: {\n    NavBar: NavBar,\n    SearchBar: SearchBar,\n    TrackAnalysis: TrackAnalysis,\n    AppTitle: AppTitle\n  },\n  data: function data() {\n    return {\n      trackSelected: false,\n      list: [],\n      trackData: null,\n      promise: null,\n      load: true,\n      waiting: false,\n      empty: true,\n      setId: 0,\n      trackPrepared: false,\n      trackId: \"\"\n    };\n  },\n  methods: {\n    search: function () {\n      var _search = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(query) {\n        var id;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(query == \"\")) {\n                  _context.next = 7;\n                  break;\n                }\n\n                this.empty = true;\n                this.trackPrepared = false;\n                this.trackSelected = false;\n                this.waiting = false;\n                this.list = [];\n                return _context.abrupt(\"return\");\n\n              case 7:\n                this.list = [];\n                this.trackPrepared = false;\n                this.trackSelected = false;\n                this.empty = false;\n                this.load = false;\n                this.waiting = true;\n                this.setId += 1;\n                id = this.setId;\n                _context.next = 17;\n                return this.$store.dispatch('searchSpotify', {\n                  query: query\n                });\n\n              case 17:\n                this.promise = _context.sent;\n\n                if (!(id != this.setId)) {\n                  _context.next = 20;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 20:\n                this.waiting = false;\n                this.trackSelected = false;\n                this.list = this.promise;\n                this.promise = null;\n\n              case 24:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function search(_x) {\n        return _search.apply(this, arguments);\n      }\n\n      return search;\n    }(),\n    selectTrack: function () {\n      var _selectTrack = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2(id) {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.load = false;\n                this.trackSelected = true;\n                this.trackId = id;\n                this.trackData = null;\n                _context2.next = 6;\n                return this.$store.dispatch('getTrack', this.trackId);\n\n              case 6:\n                this.trackData = _context2.sent;\n                _context2.next = 9;\n                return this.$store.dispatch('getAudioFeaturesForTrack', this.trackId);\n\n              case 9:\n                this.trackData.audioFeatures = _context2.sent;\n                this.trackPrepared = true;\n\n              case 11:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function selectTrack(_x2) {\n        return _selectTrack.apply(this, arguments);\n      }\n\n      return selectTrack;\n    }(),\n    callbackOnP5: function callbackOnP5(timeStr) {\n      this.message = timeStr;\n    }\n  },\n  computed: {\n    inicialized: function inicialized() {\n      return this.$store.state.inicialized;\n    }\n  },\n  created: function created() {\n    if (!this.inicialized) this.$router.push(\"/login\");\n  }\n};",{"version":3,"sources":["SongAnalysis.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"songanalysis maindiv\">\r\n    <NavBar path=\"songanalysis\" />\r\n    <div id=\"main\">\r\n      <SearchBar v-on:changed=\"search\" />\r\n      <div class=\"loading\" v-if=\"!trackSelected && list.length == 0 && waiting && !empty\">\r\n        <div v-for=\"bar in 4\" :key=\"'loadingbar'+bar\" class=\"bar\" :style=\"{'--delay': + (bar - 1)}\"/>\r\n      </div>\r\n      <div id=\"no-results\" v-if=\"!trackSelected && list.length == 0 && !waiting && !load && !empty\">\r\n        <h1>No Results Found</h1>\r\n      </div>\r\n      <div id=\"search\" v-if=\"!trackSelected && list.length > 0\">\r\n        <table>\r\n          <tr @click=\"selectTrack(track.id)\" class=\"search-song\" v-for=\"(track, index) in list\" :key=\"track.id + index\" :style=\"{'--delay': index}\">\r\n            <td>\r\n              <div class=\"search-image\" :style=\"{backgroundImage: 'url(\\'' + track.album.images[0].url + '\\')'}\"/>\r\n            </td>\r\n            <td>\r\n              <h1 class=\"search-title\">{{track.name}}</h1>\r\n              <div class=\"artists\">\r\n                <div v-for=\"index in 4\" :key=\"track.name + '-' + (index - 1)\">\r\n                  <h4  class=\"artist\" v-if=\"(index - 1) < track.artists.length\">{{track.artists[(index - 1)].name}}<h4 class=\"space\" v-if=\"(index - 1) < track.artists.length - 1\"></h4></h4>\r\n                </div>\r\n              </div>\r\n            </td>\r\n          </tr>\r\n        </table>\r\n      </div>\r\n      <TrackAnalysis :trackData=\"trackData\" v-if=\"trackSelected && trackPrepared\" />\r\n      \r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// @ is an alias to /src\r\nimport NavBar from '@/components/NavBar.vue'\r\nimport SearchBar from '@/components/SearchBar.vue'\r\nimport TrackAnalysis from '@/components/TrackAnalysis.vue'\r\nimport AppTitle from '@/components/AppTitle.vue'\r\n\r\nexport default {\r\n  name: 'songanalysis',\r\n  components: {\r\n    NavBar,\r\n    SearchBar,\r\n    TrackAnalysis,\r\n    AppTitle\r\n  },\r\n  data() {\r\n    return {\r\n      trackSelected: false,\r\n      list: [],\r\n      trackData: null,\r\n      promise: null,\r\n      load: true,\r\n      waiting: false,\r\n      empty: true,\r\n      setId: 0,\r\n      trackPrepared: false,\r\n\r\n      trackId: \"\",\r\n    }\r\n  },\r\n  methods: {\r\n    async search(query) {\r\n      if (query == \"\")\r\n      {\r\n        this.empty = true;\r\n        this.trackPrepared = false;\r\n        this.trackSelected = false;\r\n        this.waiting = false;\r\n        this.list = [];\r\n        return;\r\n      }\r\n      this.list = [];\r\n      this.trackPrepared = false;\r\n      this.trackSelected = false;\r\n      this.empty = false;\r\n      this.load = false;\r\n      this.waiting = true;\r\n      this.setId += 1;\r\n      let id = this.setId;\r\n      this.promise = await this.$store.dispatch('searchSpotify', {query: query});\r\n      if (id != this.setId)\r\n      {\r\n        return;\r\n      }\r\n      this.waiting = false;\r\n      this.trackSelected = false;\r\n      this.list = this.promise;\r\n      this.promise = null;\r\n    },\r\n    async selectTrack(id) {\r\n      this.load = false;\r\n      this.trackSelected = true;\r\n      this.trackId = id;\r\n      this.trackData = null;\r\n      this.trackData = await this.$store.dispatch('getTrack', this.trackId);\r\n      this.trackData.audioFeatures = await this.$store.dispatch('getAudioFeaturesForTrack', this.trackId);\r\n      this.trackPrepared = true;\r\n      \r\n    },\r\n    callbackOnP5: function(timeStr) {\r\n      this.message = timeStr;\r\n    }\r\n  },\r\n  computed: {\r\n    inicialized() {\r\n      return this.$store.state.inicialized;\r\n    },\r\n  },\r\n  created() {\r\n    if (!this.inicialized)\r\n      this.$router.push(\"/login\");\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.loading {\r\n  margin-top: 100px;\r\n}\r\n\r\n#no-results h1 {\r\n  color: rgba(255, 255, 255, 0.171);\r\n  margin-top: 100px;\r\n  font-weight: lighter;\r\n}\r\n\r\ntable {\r\n  width: 100%;\r\n}\r\n\r\n.search-song {\r\n  cursor: pointer;\r\n  --delay: 0;\r\n  display: flex;\r\n  justify-content: left;\r\n  align-items: center;\r\n  padding: 20px 15px;\r\n  background: rgba(255, 255, 255, 0.103);\r\n  height: 60px;\r\n  margin: 3px 0px;\r\n  font-family: 'Roboto', sans-serif;\r\n  animation: slide-up .5s ease calc(var(--delay) * .1s), peekaboo calc(var(--delay) * .1s) linear;\r\n}\r\n\r\n@keyframes slide-up {\r\n  from {\r\n    transform: translateY(100px);\r\n    opacity: 0;\r\n  }\r\n}\r\n\r\n.space {\r\n  margin: 0;\r\n  margin-right: 7px;\r\n}\r\n\r\n.artists .artist {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  color: rgba(255, 255, 255, 0.514) !important;\r\n  font-weight: lighter;\r\n  text-transform: capitalize;\r\n  font-size: 15px;\r\n  margin: 0;\r\n}\r\n\r\n.artists {\r\n  display: flex;\r\n  margin: 0;\r\n  margin-left: 13px;\r\n}\r\n\r\n.search-image {\r\n  display: block;\r\n  width: 60px;\r\n  height: 60px;\r\n  border-radius: 5px;\r\n  background-size: auto 100%;\r\n  background-position: center center;\r\n}\r\n\r\n.search-title {\r\n  color: white;\r\n  margin: 0 10px;\r\n  font-weight: lighter;\r\n  font-size: 28px;\r\n  text-align: left;\r\n}\r\n\r\n.search-song:hover .search-title\r\n{\r\n  text-decoration: underline;\r\n}\r\n</style>"],"sourceRoot":"src/views"}]}